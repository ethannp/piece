<!DOCTYPE html>

<head>
  <title>Piece | Play</title>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;500;700&display=swap" rel="stylesheet" />
  <link rel="stylesheet" href="/static/css/main.css">
  <link rel="icon" type="image/png" href="/static/icon.png"/>
  <script>
    $(function () {
      $.getScript('/static/js/lz-string.js');
      $.getScript('/static/js/auth.js');
      $.getScript('/static/js/play.js');
      $.getScript('/static/js/refpic.js');
    });
  </script>
</head>

<body>
  <script src="https://www.gstatic.com/firebasejs/8.2.3/firebase-app.js"></script>
  <script src="https://www.gstatic.com/firebasejs/8.2.3/firebase-auth.js"></script>
  <script src="https://www.gstatic.com/firebasejs/8.2.3/firebase-firestore.js"></script>
  <script src="https://www.gstatic.com/firebasejs/8.2.3/firebase-database.js"></script>
  <script src="https://www.gstatic.com/firebasejs/8.2.3/firebase-storage.js"></script>
  <main>
    <section class="glass">
      <div class="content" id="play" hidden>
        <h2 class="disable-select">Play</h2>
        <div id="mobile">
          <p>Are you on mobile? Drawing is currently not supported on mobile devices.</p>
          <p>If you aren't on mobile, please expand your screen size!</p>
          <br>
          <a class="button" href="/">Take me back home</a>
        </div>
        <div id="info">
          <p>Once you push start, an empty canvas and the piece that you will draw will appear. Please try to recreate
            the image to the best of your ability! A countdown for 100 seconds will appear, and at the end of the timer,
            you will lose the ability to keep drawing. There is no way to pause this timer!</p>
          <p>You will have the option to change your <b>brush size</b> and <b>color</b>. Use the white color to erase, or the trash can to erase everything.</p>
          <p>Drawing inappropriate or irrelevant content will get your account permanently banned.</p>
          <p>Are you ready?</p>
          <br>
          <a class="button" id="start">I have read everything above, let's go!</a>
          <br>
          <a class="button" href="/">Take me back home</a>
        </div>
        <div id="game" hidden>
          <br class="disable-select">
          <style>
            #wrap-canv{
              overflow:hidden;
            }
            #div-canv {
              float:left;
              margin-right:5px;
              margin-bottom:5px;
            }
            #ref{
              float:left;
            }
          </style>
          <div id="wrapcanv">
          <div id="div-canv">
            <canvas id="canvDraw" width="400" height="400"></canvas>
          </div>
          <div id="ref">
            <canvas id="refpic" width="400" height="400"></canvas>
          </div>
        </div>
          <style>
            #butts div {
              position: relative;
              float: left;
              width: 30px;
              height: 30px;
              border-radius: 3px;
            }

            #butts {
              display: inline-block;
              width: 500px;
              margin-top:-4px;
            }

            #wrap {
              display: inline-block;
            }

            #circle {
              border-radius: 100px;
            }
          </style>
          <div id="wrap">
            <div id="butts">
              <div style="background:rgb(231, 231, 231);border:2px solid black;position:relative;margin-right:10px"
                id="change" onclick="size()">
                <div
                  style="border-radius: 100px;position:absolute;width:7px; height:7px; background:black;top:10px;left:10px"
                  id="circle">
                </div>
              </div>
              <div style="background:white;" id="white" onclick="color(this)"></div>
              <div style="background:lightgray;" id="lightgray" onclick="color(this)"></div>
              <div style="background:red;" id="red" onclick="color(this)"></div>
              <div style="background:orange;" id="orange" onclick="color(this)"></div>
              <div style="background:yellow;" id="yellow" onclick="color(this)"></div>
              <div style="background:lime;" id="lime" onclick="color(this)"></div>
              <div style="background:forestgreen;" id="forestgreen" onclick="color(this)"></div>
              <div style="background:cyan;" id="cyan" onclick="color(this)"></div>
              <div style="background:deepskyblue;" id="deepskyblue" onclick="color(this)"></div>
              <div style="background:blue;" id="blue" onclick="color(this)"></div>
              <div style="background:purple;" id="purple" onclick="color(this)"></div>
              <div style="background:hotpink;" id="hotpink" onclick="color(this)"></div>
              <div style="background:burlywood;" id="burlywood" onclick="color(this)"></div>
            </div>
            <div id="butts">
              <div style="background:rgb(231, 231, 231);border:2px solid black;position:relative;margin-right:10px"
                id="trash" onclick="trash()">
                <img src="/static/trash.png" style="position:absolute;width:15px; height:22px;top:1.5px;left:5px"
                  id="trashicon"></img>
              </div>
              <div style="background:black;" id="black" onclick="color(this)"></div>
              <div style="background:dimgray;" id="dimgray" onclick="color(this)"></div>
              <div style="background:darkred;" id="darkred" onclick="color(this)"></div>
              <div style="background:darkorange;" id="darkorange" onclick="color(this)"></div>
              <div style="background:goldenrod;" id="goldenrod" onclick="color(this)"></div>
              <div style="background:limegreen;" id="limegreen" onclick="color(this)"></div>
              <div style="background:darkgreen;" id="darkgreen" onclick="color(this)"></div>
              <div style="background:darkcyan;" id="darkcyan" onclick="color(this)"></div>
              <div style="background:royalblue;" id="royalblue" onclick="color(this)"></div>
              <div style="background:navy;" id="navy" onclick="color(this)"></div>
              <div style="background:indigo;" id="indigo" onclick="color(this)"></div>
              <div style="background:orchid;" id="orchid" onclick="color(this)"></div>
              <div style="background:saddlebrown;" id="saddlebrown" onclick="color(this)"></div>
            </div>
          </div>
          <br><br>
          <a class="button" id="submit">Submit</a>
          <style>
            h4 {
              color: rgba(0, 0, 0, 0.6);
            }
          </style>
          <br>
          <input type='checkbox' id="hidetimer">
          <label for="hidetimer">Hide timer</label>
          <h4 id="autosubmit">Your piece will be autosubmitted in 120 seconds.</h4>
        </div>
        <div id="after" hidden>
          <br>
          <h3>Here is your final work</h3>
          <br>
          <canvas id="final" width="400" height="400"></canvas>
          <p>Would you like to submit?</p>
          <a class="button" id="confirm">Confirm submit</a>
          <a class="button" id="reset">Cancel and restart</a>
        </div>

        <div id="cancel" hidden>
          <br>
          <h3>Your piece was not submitted.</h3>
          <p>Refresh this page to try again, or go <a class="link" href="/">back home</a>.</p>
        </div>
        <div id="submitted" hidden>
          <br>
          <h3>Your piece was submitted!</h3>
          <p>Check out the <a class="link" href="/gallery.html">Gallery</a> to see your creation.</p>
        </div>
      </div>
    </section>
  </main>
</body>

</html>